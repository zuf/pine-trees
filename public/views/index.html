{{define "photos"}}<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="manifest" href="site.webmanifest">
    <link rel="apple-touch-icon" href="icon.png">
    <!-- Place favicon.ico in the root directory -->

    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/folder.css">

    <link rel="stylesheet" href="/css/smartphoto.css">
</head>

<body>
<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade
    your browser</a> to improve your experience and security.</p>
<![endif]-->

<header>
    <h1><a href="/">Pine Trees</a></h1>
</header>

<hr/>

{{$path := .Path}}

<p>
    {{range .BreadCrumbs}}
        / <a href="/?s={{.Path}}">{{.Title}}</a>
    {{end}}
</p>

<p>
    <a href="/?p={{.PrevPage}}&amp;s={{$path}}">&leftarrow;</a>

    {{range .Pages}}
        {{if .Current}}
            <span>{{.Num}}</span>
        {{else}}
            <a href="/?p={{.Num}}&amp;s={{$path}}">{{.Num}}</a>
        {{end}}
    {{end}}


    <a href="/?p={{.NextPage}}&amp;s={{$path}}">&rightarrow;</a>
</p>

<section class="photos">
    {{range .Photos}}
        {{if .Directory}}
            <div class="dir">
                <a href="/d?s={{.Src}}">
                    <div class="dir-folder">
                        <div class="folder">
                            <div class="icon"></div>
                        </div>
                    </div>
                </a>
                <p><a href="/d?s={{.Src}}">[ {{.Name}} ]</a></p>
            </div>
        {{else}}
            <div class="photo">
                {{if .SupportedFormat}}
                    {{/* RAW */}}
                    <a href="/g?s={{.Src}}" rel="0" class="jsp" data-caption="{{.Name}}" data-id="{{.Name}}" data-group="0" ><img src="/p?s={{.Src}}" title="{{.Name}}"/></a>
                    <p class="title"><a href="/f?s={{.Src}}">{{.Name}}</a></p>
                {{else}}
                    {{if .IsVideo}}
                        <a href="/v?s={{.Src}}"><img src="/f?s={{.VideoPreview}}" title="{{.Name}}" /></a>
                        <p class="title"><a href="/f?s={{.Src}}">{{.Name}}</a></p>
                    {{else}}
                        {{/* JPEG / PNG / GIF / SVG / etc */}}
                        <a href="/f?s={{.Src}}" rel="0"  class="jsp" data-caption="{{.Name}}" data-id="{{.Name}}" data-group="0"><img src="/f?s={{.Src}}" title="{{.Name}}" /></a>
                        <p class="title"><a href="/f?s={{.Src}}">{{.Name}}</a></p>
                    {{end}}
                {{end}}
            </div>
        {{end}}
    {{end}}
</section>


<p>
    <a href="/?p={{.PrevPage}}&amp;s={{$path}}">&leftarrow;</a>

    {{range .Pages}}
        {{if .Current}}
            <span>{{.Num}}</span>
        {{else}}
            <a href="/?p={{.Num}}&amp;s={{$path}}">{{.Num}}</a>
        {{end}}
    {{end}}


    <a href="/?p={{.NextPage}}&amp;s={{$path}}">&rightarrow;</a>
</p>


{{/*<script src="/js/0.min.js"></script>*/}}
{{/* https://github.com/appleple/SmartPhoto */}}
<script src="/js/smartphoto.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded',function(){
        new SmartPhoto(".jsp",{
            // resizeStyle: 'fit' // 'fill'
        });
    });
</script>
</body>

</html>{{end}}
